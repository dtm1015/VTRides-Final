<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Justin Kennedy on 2019.10.31
Copyright Â© 2019 Justin Kennedy. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">

    <!--
    *********************************************
    * Header Component of Template siteTemplate *
    *********************************************
    This page's content is displayed on the top of each page created based on the siteTemplate.
    This page contains the Logo image, "Hello, (User)" and the hamberger menu displayed at the 
    top of each page. If a correction needs to be made, it can be made here and it will be updated
    for each page. 
    -->

    <!-- Do not enter tags before the composition line since they are ignored by JSF -->
    <ui:composition>
        <h:form>
            <table border="0" cellspacing="0" cellpadding="10" width="100%">
                <tr>
                    <!--
                    The widths of Column 1 and 3 must be set as fixed so that Column 2 can center its content.
                    -->
                    <!--
                    ***************************************
                    Column 1 (Left): Cloud Drive Logo Image
                    ***************************************
                    -->
                    <td align="left" valign="middle" style="width:230px;">

                        <!-- Use EL to reference the image file since it will be accessed from all UI pages -->
                        <h:link outcome="/SignIn">
                            <img src="#{resource['images:VideosLogo.png']}"
                                 class="scalableImage" alt="Videos Logo" />
                        </h:link>

                    </td>
                    <!--
                    *******************************
                    Column 2 (Center): Welcome User
                    *******************************
                    -->
                    <td align="center" valign="middle">
                        <!-- Welcome the user if signed in -->
                        <c:if test="#{userController.isLoggedIn() == true}">
                            <div class="helloText">Hello, #{userController.selected.firstName}</div>
                        </c:if>
                        <c:if test="#{userController.isLoggedIn() == false}">
                            <h1>Hello, Guest</h1>
                        </c:if>
                    </td>
                    <!--
                    ***************************************
                    Column 3 (Right): Hamburger Menu Button
                    ***************************************
                    -->
                    <td align="right" valign="middle" style="width:100px;">

                        <!--
                        tabindex="0" enables the menu element act like a button.
                        
                        style="float:right;" places the drop-down menu on the right side.
                        
                        -->
                        <div tabindex="0" class="menu" style="float:right;padding-right:20px;">
                            <div class="menu-dropdown" style="right:0;">

                                <!-- 
                                ===========================================
                                |   Menu Options IF a User is Signed In   |
                                ===========================================
                                -->
                                <c:if test="#{userController.isLoggedIn() == true}">
                                    <!-- PUBLIC VIDEOS -->
                                    <h:link outcome="/allRides/List" class="standardText">
                                        <i class="fas fa-home"></i>&nbsp;All Rides
                                    </h:link>
                                    <!-- MY VIDEOS -->
                                    <h:link outcome="/myRides/ListOfMyRides" class="standardText" >
                                        <i class="fas fa-file-alt"></i>&nbsp;My Videos
                                    </h:link>
                                    <!-- MY ACCOUNT -->
                                    <!-- Clicking "My Account" displays the Profile.xhtml file -->
                                    <h:link outcome="/userAccount/Profile" class="standardText">
                                        <!-- 
                                        Display the user's photo in a small circle. The cache="false" option
                                        enables immediate display of a newly uploaded photo without using cache.
                                        -->
                                        <p:graphicImage cache="false" class="smallProfilePhoto" 
                                                        value="#{userController.userPhoto()}"/>&nbsp;&nbsp;My Account
                                    </h:link>
                                    <!-- SIGN OUT -->
                                    <!-- Clicking "Sign Out" invokes userController's logout() method -->
                                    <h:commandLink action="#{userController.logout()}" class="standardText" >
                                        <i class="fas fa-sign-out-alt"></i>&nbsp;Sign Out
                                    </h:commandLink>

                                </c:if>

                                <!-- 
                                ============================================
                                |   Menu Options IF No User is Signed In   |
                                ============================================
                                -->

                                <c:if test="#{userController.isLoggedIn() == false}">
                                    <!-- SIGN IN -->
                                    <!-- Clicking "Sign In" displays the SignIn.xhtml file -->
                                    <h:link outcome="/SignIn" class="standardText">
                                        <i class="fas fa-sign-in-alt"></i>&nbsp;Sign In
                                    </h:link>
                                    <!-- CREATE ACCOUNT -->
                                    <!-- Clicking "Create an Account" displays the CreateAccount.xhtml file -->
                                    <h:link outcome="/userAccount/CreateAccount" class="standardText">
                                        <i class="fas fa-user-plus"></i>&nbsp;Create an Account
                                    </h:link>
                                </c:if>

                            </div>
                        </div>
                    </td>
                </tr>
            </table>

        </h:form>

    </ui:composition>

</html>
